{{/*

BOOSTER-WEB: Web interface to BOOSTER (https://github.com/evolbioinfo/booster)
Alternative method to compute bootstrap branch supports in large trees.

Copyright (C) 2017 BOOSTER-WEB dev team

This program is free software; you can redistribute it and/or
modify it under the terms of the GNU General Public License
as published by the Free Software Foundation; either version 2
of the License, or (at your option) any later version.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU General Public License for more details.

You should have received a copy of the GNU General Public License
along with this program; if not, write to the Free Software
Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA  02110-1301, USA.

*/}}

{{ define "title" }}
BOOSTER - Run
{{end}}

{{ define "libs" }}
{{ end }}

{{ define "content"}}

<form action="/run" method="POST" enctype="multipart/form-data">
  {{if .GalaxyProcessor }}
  <fieldset class="form-group">
    <legend class="fieldset-border">You have input sequences (fasta format)</legend>
    <div>
      <label for="refseqs">Input Sequences</label>
      <input type="file" class="form-control-file" id="refseqs" aria-describedby="refSeqsHelp" name="refseqs" />
      <small id="refSeqsHelp" class="form-text text-muted">Input sequences (Fasta format, possibly gzipped with extension .gz only).
	If given, <a href="https://ngphylogeny.fr/workflows/oneclick/">PHYML-SMS oneclick</a> workflow will be executed to build reference and bootstrap trees,
	and no tree file given below will be taken into account.</small>
    </div>
    <div>
      <label for="nboot">Number of Bootstrap replicates (<span id="nboottext">40</span>)</label>
      <input style="max-width:500px;" type="range" value="40" min="2" max="100" id="nboot"  name="nboot"  oninput="updateNbootInput(this.value);"/>
      <small id="nbootHelp" class="form-text text-muted">Number of Bootstrap replicates</small>
    </div>
  </fieldset>
  {{ end }}
  <fieldset class="form-group">
    <legend class="fieldset-border">You have reference and bootstrap trees</legend>
    <div>
      <label for="reftree">Reference tree</label>
      <input type="file" class="form-control-file" id="reftree" aria-describedby="refTreeHelp" name="reftree" />
      <small id="refTreeHelp" class="form-text text-muted">The tree must be in Newick format, and may be gzipped (extension .gz only)</small>
    </div>
    <div>
      <label for="boottrees">Bootstrap trees</label>
      <input type="file" class="form-control-file" id="boottrees" aria-describedby="bootTreeHelp" name="boottrees" />
      <small id="bootTreeHelp" class="form-text text-muted">All bootstrap trees must be in one single file, in newick format, and may be gzipped (extension .gz only)</small>
    </div>
  </fieldset>
  <fieldset class="form-group">
    <legend class="fieldset-border">In any case</legend>
    <div>
      <label for="algorithm">Algorithm</label>
      <select id="algorithm" name="algorithm" class="form-control" aria-describedby="algorithmHelp">
	<option value="booster" selected>TBE (Transfer bootstrap)</option>
	<option value="classical">FBP (Felsenstein bootstrap)</option> 
      </select>
      <small id="algoHelp" class="form-text text-muted">Choose bootstrap algorithm (FBP or TBE)</small>
    </div>
    {{if .EmailNotification }}
    <div>
      <label for="email">E-Mail</label>
      <input id="email" name="email" class="form-control" type="text" aria-describedby="emailHelp"/>
      <small id="emailHelp" class="form-text text-muted">Enter your e-mail if you want to be notified as soon as the job is finished</small>
    </div>
    {{ end }}
  </fieldset>

  <button type="submit" class="btn btn-primary">Run</button>
</form>

{{ end }}
